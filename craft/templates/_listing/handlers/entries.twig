{% extends '_listing/default' %}

{# ======================================
GENERIC LISTING. NB: don't pass URL segment data
directly into craft.entries as it's a security
risk (effectively exposing all channel data to
the front end). Be sure to whitelist chosen
URIs in the switch/case statement instead. If
that's not enough flexiblity, create a dedicated
listing template e.g. _listings/{section-handle}.twig to override.

THE PURPOSE OF THIS TEMPLATE IS TO SET
ALL THE DATA READY FOR CONSUMPTION BY _listing/default.
========================================= #}

{% set searchCriteria = null %}

{% switch craft.request.segment(1) %}

	{% case 'something' %}
		{% set entriesSection = '' %}

{% endswitch %}

{# Set the main pageEntries var #}
{% paginate craft.entries({
	section: entriesSection,
	search: searchCriteria,
	limit: 9,
	order: 'postDate desc'
}) as pageInfo, pageEntries %}
